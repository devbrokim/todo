import{s as d,B as ee,j as n,Q as ne,a as te,A as oe,b as l,T as re,I as ie,d as ae,c as R,i as L,e as le,p as y,f as N,l as S,g as j,D as se,h as $,L as ce,k as p,m as b,n as de,o as D,q as M,r as ue,t as fe,C as Ce,u as W,v as w,w as ge,x as J,y as _,z as A,E as me,F as he,G as z,H as ve,J as ye,K as pe,M as be,N as C,O as P,P as De,R as ke,S as we,U as Be,V as Te}from"./vendor.eead6666.js";const Se=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};Se();const Ae=e=>typeof e=="string",xe=e=>typeof e=="number",Oe=(e,r="all")=>t=>Array.isArray(t)&&(r==="all"?(i=>{for(const o of i)if(!e(o))return!1;return!0})(t):typeof t[0]=="undefined"||e(t[0])),Ee=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Q=e=>r=>e.reduce((t,i)=>t||i(r),!1),Fe=(e,r="all")=>Oe(t=>Ee(t)&&"value"in t&&Ae(t.value)&&"id"in t&&xe(t.id)&&"checked"in t&&(i=>Q([o=>o===!1,o=>o===!0])(i))(t.checked)&&"removed"in t&&(i=>Q([o=>o===!1,o=>o===!0])(i))(t.removed),r)(e),Ie=d(ee)(({theme:e})=>({zIndex:e.zIndex.drawer+1,color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.8)"})),Re=e=>n(Ie,{open:e.open,onClick:e.onClose,children:n(ne,{value:"https://dingding.studio"})}),Le=e=>{const r=t=>{switch(t){case"all":return"\uBAA8\uB4E0 \uD560\uC77C";case"unchecked":return"\uD604\uC7AC \uD560\uC77C";case"checked":return"\uC644\uB8CC\uB41C \uD560\uC77C";case"removed":return"\uD734\uC9C0\uD1B5";default:return"\uD560\uC77C"}};return n(te,{sx:{flexGrow:1},children:n(oe,{position:"static",children:l(re,{children:[n(ie,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:e.onToggleDrawer,children:n(ae,{})}),n(R,{children:r(e.filter)})]})})})},Ne="todo",je="1.0.0",$e={dev:"vite",build:"tsc && vite build",serve:"vite preview"},Me={"@emotion/react":"^11.7.0","@emotion/styled":"^11.6.0","@fontsource/roboto":"^4.5.1","@mui/icons-material":"^5.2.0","@mui/material":"^5.2.2",localforage:"^1.10.0",react:"^17.0.0","react-dom":"^17.0.0","react-qrcode-logo":"^2.5.0"},We={"@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@vitejs/plugin-react":"^1.0.0",typescript:"^4.3.2",vite:"^2.6.4","vite-plugin-pwa":"^0.11.10"};var Je={name:Ne,version:je,scripts:$e,dependencies:Me,devDependencies:We};const _e=d("div")(()=>({width:250})),ze=d("div")(()=>({height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",backgroundColor:L[500],color:"#ffffff",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),Pe=d(le)(({theme:e})=>({backgroundColor:y[500],width:e.spacing(6),height:e.spacing(6)})),Qe=d(N)(()=>({color:S[500]})),Ue=d(j)(()=>({color:y.A200})),qe=e=>n(se,{variant:"temporary",open:e.drawerOpen,onClose:e.onToggleDrawer,children:l(_e,{role:"presentation",onClick:e.onToggleDrawer,children:[l(ze,{children:[n(Pe,{children:n($,{})}),l("p",{children:["\uD560\uC77C v",Je.version]})]}),l(ce,{children:[l(p,{button:!0,onClick:()=>e.onSort("all"),"aria-label":"all",children:[n(b,{children:n(de,{})}),n(D,{secondary:"\uBAA8\uB4E0 \uD560\uC77C"})]}),l(p,{button:!0,onClick:()=>e.onSort("unchecked"),"aria-label":"incomplete",children:[n(b,{children:n(Qe,{})}),n(D,{secondary:"\uD604\uC7AC \uD560\uC77C"})]}),l(p,{button:!0,onClick:()=>e.onSort("checked"),"aria-label":"complete",children:[n(b,{children:n(Ue,{})}),n(D,{secondary:"\uC644\uB8CC\uB41C \uD560\uC77C"})]}),l(p,{button:!0,onClick:()=>e.onSort("removed"),"aria-label":"removed",children:[n(b,{children:n(M,{})}),n(D,{secondary:"\uD734\uC9C0\uD1B5"})]}),n(ue,{}),l(p,{button:!0,onClick:e.onToggleQR,"aria-label":"share",children:[n(b,{children:n(fe,{})}),n(D,{secondary:"\uC774 \uC571 \uACF5\uC720\uD558\uAE30"})]})]})]})}),Ge=d("div")({margin:"0 auto",maxWidth:"640px",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"}),Ke=d(Ce)(({theme:e})=>({marginTop:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2),padding:e.spacing(1),fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),He=d("div")(({theme:e})=>({marginTop:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),fontSize:"16px"})),Ve=d("div")(({theme:e})=>({marginTop:e.spacing(1),display:"flex",flexDirection:"row",justifyContent:"space-between"})),Xe=d("button")(()=>({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:"none",border:"none",cursor:"pointer",outline:"none"})),Ye=d("button")(()=>({background:"none",border:"none",cursor:"pointer",outline:"none"})),Ze=e=>{const r=e.todos.filter(t=>{switch(e.filter){case"all":return!t.removed;case"checked":return t.checked&&!t.removed;case"unchecked":return!t.checked&&!t.removed;case"removed":return t.removed;default:return t}});return n(Ge,{children:r.map(t=>l(Ke,{children:[n(He,{children:n(W,{fullWidth:!0,variant:"standard",value:t.value,onChange:i=>e.onEdit(t.id,i.target.value),disabled:t.checked||t.removed})}),l(Ve,{children:[l(Xe,{onClick:()=>e.onCheck(t.id,t.checked),disabled:e.filter==="removed","aria-label":"check",children:[t.checked?n(j,{style:{color:e.filter!=="removed"?y.A200:w[500]}}):n(N,{style:{color:e.filter!=="removed"?S[500]:w[500]}}),n(R,{style:{userSelect:"none",color:t.checked&&e.filter!=="removed"?y.A200:w[500]},children:"\uC644\uB8CC"})]}),n(Ye,{onClick:()=>e.onRemove(t.id,t.removed),"aria-label":"trash",children:t.removed?n(ge,{style:{color:S[500]}}):n(M,{style:{color:w[500]}})})]})]},t.id))})},en=e=>n(J,{fullWidth:!0,open:e.dialogOpen,onClose:e.onToggleDialog,children:n("form",{onSubmit:r=>{r.preventDefault(),e.onSubmit()},children:l("div",{style:{margin:"1em"},children:[n(W,{variant:"standard",style:{width:"100%",fontSize:"16px",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"},label:"\uD560\uC77C \uC785\uB825...",onChange:r=>e.onChange(r),value:e.text,autoFocus:!0}),n(_,{children:n(A,{color:"secondary",onClick:e.onSubmit,"aria-label":"add",children:"\uCD94\uAC00"})})]})})}),nn=d(J)(()=>({fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),tn=e=>l(nn,{open:e.alertOpen,onClose:e.onToggleAlert,children:[n(me,{children:"\uACBD\uACE0"}),l(he,{children:[n(z,{children:"\uD734\uC9C0\uD1B5\uC744 \uC644\uC804\uD788 \uBE44\uC6B0\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}),n(z,{children:"\uC774\uB97C \uC2E4\uD589\uC2DC \uCDE8\uC18C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."})]}),l(_,{children:[n(A,{onClick:e.onToggleAlert,color:"primary","aria-label":"cancel",children:"\uCDE8\uC18C"}),n(A,{onClick:()=>{e.onToggleAlert(),e.onEmpty()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"\uD655\uC778"})]})]}),U=d(ve)({position:"fixed",right:15,bottom:15}),on=e=>{const r=e.todos.filter(t=>t.removed).length!==0;return n(ye,{children:e.filter==="removed"?n(U,{"aria-label":"delete-button",color:"secondary",onClick:e.onToggleAlert,disabled:!r||e.alertOpen,children:n(pe,{})}):n(U,{"aria-label":"add-button",color:"secondary",onClick:e.onToggleDialog,disabled:e.filter==="checked"||e.dialogOpen,children:n($,{})})})},rn=be({palette:{primary:{main:L[500],light:"#757de8",dark:"#002984"},secondary:{main:y[500],light:"#ff6090",dark:"#b0003a"}}}),an=()=>{const[e,r]=C.exports.useState(""),[t,i]=C.exports.useState([]),[o,s]=C.exports.useState("all"),[c,m]=C.exports.useState(!1),[h,u]=C.exports.useState(!1),[k,q]=C.exports.useState(!1),[B,T]=C.exports.useState(!1),x=()=>m(!c),O=()=>u(!h),E=()=>q(!k),F=()=>{T(!B),r("")},G=a=>{r(a.target.value)},K=()=>{if(!e){T(!1);return}const a={value:e,id:new Date().getTime(),checked:!1,removed:!1};i([a,...t]),r(""),T(!1)},H=(a,g)=>{const v=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.value=g),f));i(v)},V=(a,g)=>{const v=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.checked=!g),f));i(v)},X=(a,g)=>{const v=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.removed=!g),f));i(v)},Y=()=>{const a=t.filter(g=>!g.removed);i(a)},Z=a=>{s(a)};return C.exports.useEffect(()=>{P.getItem("todo-20200101").then(a=>Fe(a)&&i(a)).catch(a=>console.error(a))},[]),C.exports.useEffect(()=>{P.setItem("todo-20200101",t).catch(a=>console.error(a))},[t]),l(De,{theme:rn,children:[n(ke,{styles:{body:{margin:0,padding:0}}}),n(Le,{filter:o,onToggleDrawer:E}),n(qe,{drawerOpen:k,onSort:Z,onToggleQR:x,onToggleDrawer:E}),n(Re,{open:c,onClose:x}),n(en,{text:e,dialogOpen:B,onChange:G,onSubmit:K,onToggleDialog:F}),n(tn,{alertOpen:h,onEmpty:Y,onToggleAlert:O}),n(Ze,{todos:t,filter:o,onEdit:H,onCheck:V,onRemove:X}),n(on,{todos:t,filter:o,alertOpen:h,dialogOpen:B,onToggleAlert:O,onToggleDialog:F})]})};function ln(e={}){const{immediate:r=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:o,onRegisterError:s}=e;let c,m;const h=async(u=!0)=>{u&&(c==null||c.addEventListener("controlling",k=>{k.isUpdate&&window.location.reload()})),m&&m.waiting&&await Be(m.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){c=new we("/sw.js",{scope:"/"}),c.addEventListener("activated",u=>{u.isUpdate||i==null||i()});{const u=()=>{t==null||t()};c.addEventListener("waiting",u),c.addEventListener("externalwaiting",u)}c.register({immediate:r}).then(u=>{m=u,o==null||o(u)}).catch(u=>{s==null||s(u)})}return h}Te.render(n(an,{}),document.getElementById("root"));ln();
